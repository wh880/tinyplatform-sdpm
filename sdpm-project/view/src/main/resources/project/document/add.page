#!set(activeTitle="项目管理",activeMenuId=currentPageId)
#import("/org/tinygroup/form/components/form.component")
#import("/org/tinygroup/icon/components/icon.component")
#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#macro radio1(rId rName rChecked rValue rClass rIsDisabled radioOther)
	<input#if(rId) id="$!{rId}"#{end}#if(rName) name="$!{rName}"#end#if(rChecked && rChecked=="checked") checked#{end}#if(rValue) value="$!{rValue}"#end#if(rClass) class="$!{rClass}"#end#if(rIsDisabled && rIsDisabled=="disabled") disabled#end type="radio" onclick="${radioOther}"/>
#end
#macro labelRadio1(rId rName rValue rClass radioOther labelText)
	#@radioBox()
		#radio1(rId=rId rName=rName rValue=rValue rClass=rClass radioOthe=radioOther)
		#@label(ckId)${labelText}#end
	#end
#end
<style>
.tabLayout .tabBar span a{color:#333}
.tabLayout .tabBar .Current a{color:#fff}
.operationbar{border-top:none;background:#f9fafe;padding:6px 5px 6px 10px;}
</style>
#include("/project/event/common.page")
#set(name="document")
#@div()
	#@tabWithInit("tab_demo" "optionsBox")
			#@div(divClass="dropdownBox")
				#include("/project/dropdownMenu.page")
			#end
			#@tabHead()
				#include("/project/protab.page")							
				<a href="${TINY_CONTEXT_PATH}/project/addProject.page" style="float:right">#buttonIcon(iconClass="icon-plus")添加项目</a>
				<a href="${TINY_CONTEXT_PATH}/project/allProject.page" style="float:right">#buttonIcon(iconClass="icon-list")所有项目</a>
			#end				
			#@tabBodyCol("ptop-5")
#@div(divClass="operationbar")
	创建文档
#end
#@div()
	#@tinyForm("thisform" "" "" {"class":"test"})
			#@elementItem()
					#@colLabel()所属项目#end
					#@tinySelect("lang" "zh" {"style":"width:300px","class":"input-text","rel":"22"})
						#@tinyOptionItem("zh")项目1#end
						#@tinyOptionItem("en")项目2#end
						#@tinyOptionItem("ta")项目3#end
					#end
				#end				
			
			#@elementItem()
					#@colLabel()所属产品#end
					#@tinySelect("lang" "zh" {"style":"width:300px","class":"input-text","rel":"22"})						
						#@tinyOptionItem("zh")产品1#end
						#@tinyOptionItem("en")产品2#end
						#@tinyOptionItem("ta")产品3#end
					#end
				#end				
	
			#@elementItem()
					#@colLabel()所属分类#end
					#@tinySelect("lang" "zh" {"style":"width:300px","class":"input-text","rel":"22"})
						#@tinyOptionItem("zh")分类1#end
						#@tinyOptionItem("en")分类2#end
						#@tinyOptionItem("ta")分类3#end
					#end
				#end	
				
			#@elementItem()
        			#@colLabel()文档类型#end
					#@skinMinimal("mt-20")
    					#labelRadio1(rId="aclopen" rName="acl" rValue="custom2" labelText="文件" "setWhite(this.value);")
    					#labelRadio1(rId="aclcustom" rName="acl" rValue="custom1" labelText="链接" "setWhite(this.value);")   								
    					#labelRadio1(rId="aclcustom" rName="acl" rValue="custom" labelText="网页" "setWhite(this.value);")
					
					#end
        			#@validateDiv("col-2")#end
      		#end	
							
			#@elementItem()
					#@colLabel()文档标题#end
					#@formControlDiv("col-8")
					#tinyInput("text" "username" ""{"style":"width:300px","placeholder":"","datatype":"*4-16","nullmsg":"标题不能为空！","id":"username","class":"input-text"})
					#end
				#end
				#@validateDiv("col-2")#end							
			#@elementItem()	
					#@colLabel()关键字#end
					#@formControlDiv("col-8")
					#tinyInput("text" "username" ""{"style":"width:300px","placeholder":"","datatype":"*4-16","id":"username","class":"input-text"})
					#end
				#end
				#@validateDiv("col-2")#end
											
			#@elementItem()
					#@colLabel()文档摘要#end
					#@formControlDiv("col-6")
						#@Teditor("content1" "content1" {"initialFrameHeight":"200"})Say something#end
					#end
					#@validateDiv("col-2")#end
				#end
										
			#@elementItem(elementId="whitelistBox1" eleItemClass="hidden")				
					#@colLabel()文档URL#end
					#@formControlDiv("col-8")
					#tinyInput("text" "username" ""{"style":"width:300px","placeholder":"","datatype":"*4-16","id":"username","class":"input-text"})
					#end
				#end
				#@validateDiv("col-2")#end	
										
			#@elementItem(elementId="whitelistBox2" eleItemClass="hidden")				
					#@colLabel()附件#end
					#@formControlDiv("col-8")
					#fileWithInput("file-1")
					#end
					#@validateDiv("col-2")#end
				#end
			#@elementItem(elementId="whitelistBox" eleItemClass="hidden")
					#@colLabel()文档正文#end
					#@formControlDiv("col-6")
						#@tinyueditor("content" "content")说点什么...最少输入10个字符#end
					#end					
					#@validateDiv("col-2")#end
			#end
			#@elementItem()
					#@colLabel()#end
					<a href="#">#buttonRadiusPrimary(caption="保存")</a>
      				<a href="${TINY_CONTEXT_PATH}/project/document/index.page">#buttonDefault(caption="返回")</a>
			#end
			#end
		#end
	#end
#end
#end
<script type="text/javascript">
function setWhite(acl)
{
    acl == 'custom2' ? $('#whitelistBox2').removeClass('hidden') : $('#whitelistBox2').addClass('hidden');
    acl == 'custom1' ? $('#whitelistBox1').removeClass('hidden') : $('#whitelistBox1').addClass('hidden');
    acl == 'custom' ? $('#whitelistBox').removeClass('hidden') : $('#whitelistBox').addClass('hidden');
}
</script>