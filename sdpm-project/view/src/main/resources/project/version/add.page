#import("/org/tinygroup/form/components/form.component")
#import("/org/tinygroup/bootstrapDate/components/bootstrapDate.component")
#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#import("/org/tinygroup/fold/components/fold.component")

#set(name="version")
#@div()
    #@tabWithInit("tab_demo" "optionsBox")
        #@div(divClass="dropdownBox")
            #include("/project/dropdownMenu.page")
        #end
        #@tabHead()
            #include("/project/protab.page")
        #end
    ##head end
    <br/>
    ##body end
    #end
#end

#@tinyForm(
    "thisform" TINY_CONTEXT_PATH+adminPath+"/project/version/addsave" "" {"class":"test","enctype":
    "multipart/form-data"})
<div class="infoContent">
    <p class="titleName">新建版本</p>
    #@elementItem()
        <input type="hidden" name="buildProject" value="${currentProjectId}"/>
    #end
    #@elementItem()
        #@sdpmItem("产品")
            #@Tselect2F()

                #@Tselect2Body(
                    "buildProduct" build?.buildProduct {"class":"input-text select2","datatype":"*4-16","nullmsg":
                    "产品不能为空！"}) ##,"multiple":"multiple"加上为多选项
                    #foreach(p : prodcutList)
                        <option value="${p.productId}">${p.productName}</option>
                    #end
                #end
            ##填写任意内容，侦听需重新填加 A侦听已内置
                #@Tselect2Fix()
                    <a href="${TINY_CONTEXT_PATH+adminPath}/product/save">全部</a>
                    <a href="${TINY_CONTEXT_PATH+adminPath}/product/list" class="r">全部</a>
                #end
            #end
        #end
    #end

    #@elementItem()
        #@sdpmItem("名称编号")
            #tinyInput(
                "text" "buildName" build?.buildName{"placeholder":"","datatype":"*4-16","nullmsg":
                "名称编号不能为空！","id":"username","class":"input-text"})
        #end
    #end
    #@elementItem()
        #@sdpmItem("构建者")
            #@Tselect2F()
                #@Tselect2Body(
                    "buildBuilder" build?.buildBuilder {"class":"input-text select2","placeholder":"","nullmsg":
                    "名称编号不能为空！"}) ##,"multiple":"multiple"加上为多选项
                    #foreach(t : teamList)
                        <option value="${t?.teamUserId}">${t
                            ?.teamUserId?UserUtils.getUserById(t?.teamUserId)?.orgUserRealName:""}
                        </option>
                    #end
                #end
            ##填写任意内容，侦听需重新填加 A侦听已内置
                #@Tselect2Fix()
                    <a href="${TINY_CONTEXT_PATH+adminPath}/org/user/form">增加</a>
                    <a href="${TINY_CONTEXT_PATH+adminPath}/org/user/list" class="r">全部</a>
                #end
            #end
        #end
    #end
    #@elementItem()
        #@sdpmItem("打包日期")
            #@formHorizontal()
                #@tinyDateInput(
                    "buildDate" build?.buildDate "YYYY-MM-DD HH:mm:ss" {"style":"width:200px","datatype":"*","nullmsg":
                    "日期不能为空","placeholder":"yMdHmswW分别代表年月日时分秒星期周,你可以任意组合这些元素来自定义你个性化的日期格式."})#end
            #end
        #end
    #end

    #@elementItem()
        #@sdpmItem("源代码地址")
            #tinyInput(
                "text" "buildScmPath" build?.buildScmPath{"placeholder":"","id":"username","class":
                "input-text"})
        #end
    #end

    #@elementItem()
        #@sdpmItem("下载地址")
            #tinyInput(
                "text" "buildFilePath" build?.buildFilePath{"placeholder":"","id":"username",
                "class":"input-text"})
        #end
    #end
    #@elementItem()
        #@sdpmItem("附件")
            #@formControlDiv("col-8")
                #tinyUploadInput("inputName" build?.inputName {"style":"width:100%","placeholder":"可直接输入地址，也可点击下图标进行上传"})
            #end
        #end
    #end
    #@elementItem()
        #@sdpmItem("描述")
            #@tinyueditor("content" "buildDesc" "width:15%;overflow:auto")说点什么...最少输入10个字符#end
        #end

    #end
    #@elementItem()
        <div class="col-12">
            <div class="col-4">
            </div>
            <div class="col-1">
                <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
            </div>
            <div class="col-1">
                #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")取消#end
            </div>
            <div class="col-5"></div>
        </div>
    #end

#end
