#import("/org/tinygroup/table/components/togglebox.component")
#import("/org/tinygroup/compose/components/compose_typography.component")
#import("/org/tinygroup/button/components/button_smart.component")

#include("/system/page/event/common.page")
#set(threeMenu="myholiday")

#@tabWithInit("tab_demo" "optionsBox")
	#@tabBodyCol("ptop-5")
		#@div(divClass="operationbar")
			<span class="f">
					<a href="${TINY_CONTEXT_PATH}/system/page/holiday/holiday.page" >节假日&工作日</a>
			</span>
			<span class="r">
#*				#@iconOperations("#myModal" "icon-off" "关闭" "800" "500" "" "ml-5")关闭#end*#
#*					
				<a href="${TINY_CONTEXT_PATH}/system/page/holiday/edit.page" title="编辑">#buttonIcon(iconClass="icon-pencil")</a>
				<a href="#" title="删除">#buttonIcon(iconClass="icon-common-delete icon-remove")</a>*#
				<a href="javascript :;" onClick="javascript :history.back(-1);" title="返回">#buttonIcon(iconClass="icon-reply")</a>
			</span>
		#end
	#end

	<div style="width:70%;float:left">
		#@tinyTable("tblid") ##ID为空则系统自动生成 带入参数则取该参数为ID
			#@div(divBaseClass="tinyheaderTools form-inline")
				#setTinyTablePageSize([10,20,50,100,200,35]) ##每页数据条数设置
				#@radiusBtn("btn-danger spmuldet" "icon-trash" "javascript:","delete") 批量删除#end
				#@aModal("#myModal" "批量删除" "1200" "500" "hidenmuldel hide" adminPath+"/system/holiday/findIds")#end
##                #@mulOperation("muldelete" call("link","/system/holiday/findIds"))            
##				 	#@radiusBtn("btn-danger" "icon-trash" "javascript:") 批量删除#end
##				 #end
				#@aModal("#myModal" "添加" "500" "276" "btn radius btn-primary" adminPath+"/system/holiday/add")添加#end
			
			#end
			#@tinyTableContent(TINY_CONTEXT_PATH+adminPath+"/system/holiday/findPager") ##取数据地址 总数据
				#@thead()
					#@tr()  ##class 为sorting 表票可排序 为sorting_desc(正序为为sorting_asc) 为当前倒序
						#@tinyTh({"width":"8"})<input type="checkbox" name="allck" value="">#end
						#@tinyTh({"class":"sorting sorting_asc","rel":"holiday_id"})ID#end
						#@tinyTh({"class":"sorting","rel":"holiday_name"})名称#end
						#@tinyTh({"class":"sorting","rel":"holiday_date"})日期#end
						#@tinyTh({"class":"sorting","rel":"holiday_account"})创建者#end
						#@tinyTh({"class":"sorting","rel":"holiday_type"})类型#end
						#@tinyTh({"class":"sorting","rel":"holiday_type"})描述#end
						#@tinyTh({"class":"","rel":""})操作#end
					#end
				#end
			#end
			
		#end
	</div>
	<div style="width:30%;float:right"> 
		#TypeInfo("holiday","")
    </div>
	
		
	
#end
<script>
	$(function(){		
		var href=$(".hidenmuldel").attr("href");
		$(".spmuldet").on("click",function(){
			var checklist=[];
			$("#tblid input[name=idCheck]:checked").each(function(){
				checklist.push($(this).val());
			});			
			$(".hidenmuldel").attr("href",href+"?ids="+checklist.join(",")).trigger("click");
		})
	});
</script>
##<script>
##	$(function(){
##		$("#delete").click(function(){
##			if($("input[name='idCheck']:checked").size()<=0){
##				layer.alert('至少要选择一条！');
##			}
##			
##		});
##		
##	}); 
##</script>

