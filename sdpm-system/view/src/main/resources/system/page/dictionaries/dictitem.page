#!set(activeTitle="字典项管理",activeMenuId=currentPageId)
#!set(page="dict")
#import("/org/tinygroup/zTree/components/zTree.component")
#set(threeMenu="dictionary-entries")
#set(editpagePath="/system/page/dictionaries/dictitem_edit.pagelet",editpageModalId="dictitemEditModal",editpageModal="#"+editpageModalId)
#set(viewpagePath="/system/page/dictionaries/dictitem_view.pagelet",viewpageModalId="dictitemViewModal",viewpageModal="#"+viewpageModalId)
#searchZtreeInit("treeDemo" "/data/tree/dict.js" "#test")
#macro ztreeClick()
if(!treeNode.isParent){
var id = treeNode.id;
loadURL('#link(adminPath+"/system/dict/dictItem?moduleId='+id+'")', $("#tBox"));
}
#end

###@h2()${activeTitle}#end

#@divDataTablebox()
#@tableHeaderBar()字典项#end
#@leftTreeCol()
#@searchZtreeWithInit("treeDemo" "height:454px;" adminPath+"/system/module/tree?moduleType=dict")
#end
#end
#@tableBox("tBox")
#end
#end
#simpleModal(editpageModalId)
#simpleViewModal(viewpageModalId)
<script>
	$(document).ready(function(){
		$.fn.zTree.init($("#treeDemo"), setting, zNodes);
	});

	function onCheck(e,treeId,treeNode){
		var treeObj=$.fn.zTree.getZTreeObj("treeDemo"),
				nodes=treeObj.getCheckedNodes(true),
		var v=nodes[0];
		alert(v);
##            for(var i=0;i<nodes.length;i++){
		##            v+=nodes[i].name + ",";
####            alert(nodes[i].id); //获取选中节点的值
		##            }

	}
</script>