#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#import("/org/tinygroup/table/components/table.component")
#import("/org/tinygroup/button/components/button_smart.component")
#!set(activeTitle="测试管理",activeMenuId=currentPageId)
<style>
    .select_boxes{margin-top:0}
#*    .margin-top {margin-top:8px;float:left;margin-left:18px}*#
</style>


#set(name="qualityBug")
#@div()
	#@tabWithInit("tab_demo" "optionsBox")
		#@div(divClass="dropdownBox")
			#include("/testManagement/page/dropdownMenu.page")
		#end
		#@tabHead()
			#include("/testManagement/page/Tab.page")
		#end
	
		#@tabBodyCol("ptop-5")
		#end
	#end
#end
##operationbar start1
#@div()
	#@p(pClass="title_sty")
		<span class="f">
			Bug名称</span>
		<span class="r">
			#foreach(m:menuManager.getScopeMenus("testbuginfo-tab"))
				#if(m.id=="tbugnote")
					#@aModal("#myModal" m.name "800" "400" "" m.href "ml-5")
						#buttonIcon(iconClass=m.icon)${m.name}#end&nbsp;&nbsp;
				#else 
				#if(m.id=="tmakesure"||m.id=="tassign"||m.id=="tsolution"||m.id=="tbugadddemand"||m.id=="add-case")					
					<a href="${TINY_CONTEXT_PATH}${m.href}">
						#buttonIcon(iconClass=m.icon)${m.name}</a>&nbsp&nbsp;
				#else
				#if(m.id=="tedition"||m.id=="tproposeBug"||m.id=="tbugback"||m.id=="tbugnext")
					<a href="${TINY_CONTEXT_PATH}${m.href}" title="${m.name}">
							#buttonIcon(iconClass=m.icon)</a>&nbsp;&nbsp;
				#else
				#if(m.id=="tbugremark")
					<a  title="备注" onclick="toggle()">
						#buttonIcon(iconClass="icon-comment-alt")</a>&nbsp;&nbsp;
				#else
					#@delItemsdpm("/sdpm-web/testManagement/page/Bug.page" 3 "/sdpm-web/testManagement/page/Bug.page")
						#buttonIcon(iconClass="icon-remove")#end&nbsp&nbsp
				#end
				#end
				#end		
				#end				
			#end
		
		
		
#*			#@aModal("#myModal" "日志" "800" "400" "" "/testManagement/page/addLog.pagelet" "ml-5")
				#buttonIcon(iconClass="icon-time")日志#end&nbsp;&nbsp;
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/tabledemo/makesure.page">
				#buttonIcon(iconClass="icon-search")确认</a>&nbsp&nbsp;	
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/tabledemo/assign.page">
				#buttonIcon(iconClass="icon-hand-right")指派</a>&nbsp&nbsp;
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/tabledemo/solution.page">
				#buttonIcon(iconClass="icon-ok-sign")解决</a>&nbsp;&nbsp;
			<a href="${TINY_CONTEXT_PATH}/product/page/tabledemo/product-demand-add.page">
				#buttonIcon(iconClass="icon-lightbulb")提需求</a>&nbsp;&nbsp;
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/proposecase.page">
				#buttonIcon(iconClass="icon-sitemap")建用例</a>&nbsp;&nbsp;
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/tabledemo/edition.page" title="编辑">
				#buttonIcon(iconClass="icon-pencil")</a>&nbsp;&nbsp;
			<a  title="备注" onclick="toggle()">
				#buttonIcon(iconClass="icon-comment-alt")</a>&nbsp;&nbsp;
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/proposeBug.page" title="复制">
				#buttonIcon(iconClass="icon-copy")</a>&nbsp;&nbsp;
			#@delItemsdpm("/sdpm-web/testManagement/page/Bug.page" 3 "/sdpm-web/testManagement/page/Bug.page")
					#buttonIcon(iconClass="icon-remove")#end&nbsp&nbsp					
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/Bug.page" title="返回">
				#buttonIcon(iconClass="icon-level-up")</a>&nbsp;&nbsp;
			<a href="${TINY_CONTEXT_PATH}/testManagement/page/bugInfo.page" title="下一个Bug">
				#buttonIcon(iconClass="icon-chevron-right")</a>&nbsp;</span>*#
	#end
	#@tinyForm("thisform" "url" "post" {"class":""})
#*	<div class="infoContent">
    		<p class="titleName">Bug名称</p>*#
	<div style="width:70%;float:right" class="pageleftpart">
    	<div class="infoContent">
    		<p class="titleName">重现步骤</p>
    		<p>[步骤]</p>
    		<p>[结果]</p>
    		<p>[期望]</p>
    	</div>    		
    	<div class="infoContent">
    		<p class="titleName">附件</p>
    	</div>
    	#@div(divClass="infoContent")
            <p class="titleName">历史记录</p>
        ##加入后，js代码会导致页面排版混乱
            #include("/testManagement/page/historyRecord.page")
        #end
        <center>
       		#foreach(m:menuManager.getScopeMenus("testbuginfo-tab"))
				#if(m.id=="tbugnote")
					#@aModal("#myModal" m.name "800" "400" "" m.href "ml-5")
						#buttonIcon(iconClass=m.icon)${m.name}#end&nbsp;&nbsp;
				#else 
				#if(m.id=="tmakesure"||m.id=="tassign"||m.id=="tsolution"||m.id=="tbugadddemand"||m.id=="add-case")					
					<a href="${TINY_CONTEXT_PATH}${m.href}">
						#buttonIcon(iconClass=m.icon)${m.name}</a>&nbsp&nbsp;
				#else
				#if(m.id=="tedition"||m.id=="tproposeBug"||m.id=="tbugback"||m.id=="tbugnext")
					<a href="${TINY_CONTEXT_PATH}${m.href}" title="${m.name}">
							#buttonIcon(iconClass=m.icon)</a>&nbsp;&nbsp;
				#else
				#if(m.id=="tbugremark")
					<a  title="备注" onclick="toggle()">
						#buttonIcon(iconClass="icon-comment-alt")</a>&nbsp;&nbsp;
				#else
					#@delItemsdpm("/sdpm-web/testManagement/page/Bug.page" 3 "/sdpm-web/testManagement/page/Bug.page")
						#buttonIcon(iconClass="icon-remove")#end&nbsp&nbsp
				#end
				#end
				#end		
				#end				
			#end
			</center>
		#@div(divId="comment" divStyle="display:none;" divClass="infoContent")
			<p class="titleName">备注</p>
			#@Teditor("content1" "content1" {"initialFrameHeight":"150"})Say something#end
			#@elementItem()
        	<div class="col-12">
            <div class="col-5">
                <button style="float: right" type="submit" id="submit" class="commitBtn">保存</button>
            </div>
            <div class="col-1"></div>
            <div class="col-1">
                #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")返回#end

            </div>
            <div class="col-5"></div>
        	</div>
		#end
		#end
		</div>
		#end
	<div style="width: 35%;float: right">
     #TypeInfo("qualityBugInfo")
     ## #include("/testManagement/page/bugRightInfo.page")
    </div>
	#end
	
				#@dialog("myModal")
					#@dialogHeader()对话框标题#end
					#@dialogBody()<p>对话框内容…</p>#end
					#@dialogFooter()						
					#end
				#end
<script type="text/javascript">
function toggle()
{
   var comment = document.getElementById("comment");
   if(comment.style.display=='none')
     comment.style.display='block';
   else
    comment.style.display='none';
}
</script>

