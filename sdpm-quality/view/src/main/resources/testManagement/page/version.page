#!set(activeTitle="测试管理",activeMenuId=currentPageId)

#set(name="qualityVersion")
#@div()
	#@tabWithInit("tab_demo" "optionsBox")
			#@div(divClass="dropdownBox")
				#include("/testManagement/page/dropdownMenu.page")
			#end
			#@tabHead()
				#include("/testManagement/page/Tab.page")
			#end
			
			#@tabBodyCol("ptop-5")
			##operationbar start1
			#@div(divClass="operationbar")
				<span class="f">
					<a href="${TINY_CONTEXT_PATH}/testManagement/page/version.page" class="active_btn">待测版本</a>
					<a href="${TINY_CONTEXT_PATH}/testManagement/page/version.page">已测试版本</a>
					</span>
				<span class="r">
					#foreach(m:menuManager.getScopeMenus("testversion-tab"))
						#if(m.id=="tversionpro")
							<a href="${TINY_CONTEXT_PATH}${m.href}">
												#buttonIcon(iconClass=m.icon)${m.name}</a>
						#end
					#end
				</span>
				#div(divClass="clearfix")
			#end
			##operationbar end
			#end
			##tabbody end
			#@tinyTable()
				#@div(divBaseClass="tinyheaderTools form-inline")
				<div class="f col-3">
						<input type="button" value="全选" class="btn btn-default btn-primary col-3" 
						onclick="selectAllNullorReserve('userid','全选');" />											
						<div class="col-0">&nbsp&nbsp</div>
						<input type="button" value="反选" class="btn btn-default btn-primary col-3"
						 onclick="selectAllNullorReserve('userid','反选');" />
						<div class="col-0">&nbsp&nbsp</div>
						<div class="dropdown col-3">
							<a id="" role="button" data-toggle="dropdown" class="btn btn-primary" data-target="#" href="javascript:void(0);">编辑<span class="caret"></span></a>
							<ul class="dropdown-menu multi-level" role="menu">
								<li>
								#foreach(m:menuManager.getScopeMenus("testversion-op"))
									#if(m.id=="tversiondelete")
										<a href="javascript:void(0);">删除</a>
									#end
								#end
								</li>
								<li>
								#foreach(m:menuManager.getScopeMenus("testversion-op"))
									#if(m.id=="teditionversion")
									<a href="${TINY_CONTEXT_PATH}/testManagement/page/tabledemo/editionversion.page">修改</a>
									#end
								#end
								</li>																
							</ul>
						</div>
						<div class="col-2">
							#@mulOperation("muldelete" "http://127.0.0.1:8080/sqdm-quality/testManagement/page/Bug.page")
							<a href="javascript:;" class="btn radius btn-danger "><i class="icon-trash"></i>批量删除</a>#end
						</div>
					</div>
					#setTinyTablePageSize([10,20,50,100,200,35]) ##每页数据条数设置
					
				#end
			#@tinyTableContent("../data/versionData.pagelet")
				#@thead()
					#@tr()
						#@tinyTh({"width":"6"})<input type="checkbox" name="" value="">#end
						#@tinyTh({"class":"sorting","rel":"sortname"})ID#end
						#@tinyTh({"class":"sorting","rel":"sortname"})任务名称#end
						#@tinyTh({"class":"sorting","rel":"sortname"})所属项目#end
						#@tinyTh({"class":"sorting","rel":"sortname"})版本#end
						#@tinyTh({"class":"sorting","rel":"sortname","style":"color:#333"})负责人#end
						#@tinyTh({"class":"sorting","rel":"sortname"})开始日期#end
						#@tinyTh({"class":"sorting","rel":"sortname"})结束日期#end
						#@tinyTh({"class":"sorting","rel":"sortname"})状态#end
						#@tinyTh({"csortinglass":"sorting","rel":"sortname"})操作#end
					#end
				#end
				<script type="text/javascript">
				$(function(){
					$('#${tableId}').on('click','.delBtn',function(e){
						user_del(this,'1');
					});
				})
			</script>
				#@dialog("myModal")
					#@dialogHeader()对话框标题#end
					#@dialogBody()<p>对话框内容…</p>#end
					#@dialogFooter()
						#@buttonEnsure()确定#end
						#@buttonCancel()关闭#end
					#end
				#end
			#end
			#end
	#end
#end
<script type="text/javascript">
function selectAllNullorReserve(obj,type){
   if(obj!=null&&obj!=""){
    if(document.getElementsByName(obj)!=undefined&&document.getElementsByName(obj).length>0){	//getElementsByName函数的作用按名字查找对象，返回一个数组。
     var userids = document.getElementsByName(obj);
     if(type=="全选"){
      for(var i=0;i<userids.length;i++){
       if(userids[i].checked == false){
        userids[i].checked = true;
       }
      }
     }else if(type=="全不选"){
      for(var i=0;i<userids.length;i++){
       if(userids[i].checked == true){
        userids[i].checked = false;
       }
      }
     }else if(type=="反选"){
      for(var i=0;i<userids.length;i++){
       if(userids[i].checked == true){
        userids[i].checked = false;
       }else{
        userids[i].checked = true;
       }
      }
     }
    }
   }  
}
</script>