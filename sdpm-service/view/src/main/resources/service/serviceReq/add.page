#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#import("/org/tinygroup/table/components/table.component")
#!set(activeTitle="服务管理",activeMenuId=currentPageId)
<style>
    .select_boxes {
        margin-top: 0
    }
</style>
#set(name="request")
#@div()
    #@tabWithInit("tab_demo" "optionsBox")
        #@tabHead()
            #include("/service/serviceCom/tab.page")
        #end
    <br>
    #end
#end
#@tinyForm("thisform" TINY_CONTEXT_PATH+adminPath+"/service/request/save" "post" {"class":""})
<div style="width:80%;margin-left: 20px;" class="pageleftpart">
    <div class="infoContent">
        <p class="titleName">请求</p>
        <input type="hidden" name="clientRequestId" value="${request?.clientRequestId}"/>
        #@elementItem()
            #@sdpmItem("产品名称")
                #@Tselect2F()
                    #@Tselect2Body(
                        "productId" request?.productId {"placeholder":"产品名称","datatype":"*","nullmsg":"产品名称不能为空！","id":
                        "request_title", "class":"input-text select2"})  ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("")请选择#end
                        #foreach(l:productList)
                            #@tinyOptionItem(l.productId)${l?.productName}#end
                        #end
                    #end
                ##                    #@Tselect2Fix()<a href="${TINY_CONTEXT_PATH+adminPath}/service/sla/slaAdd.page" class="r ">增加</a><a
                ##                            href="${TINY_CONTEXT_PATH+adminPath}/service/sla/sla.page">全部</a>#end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求类型" "*")
                #@Tselect2F()
                    #@Tselect2Body(
                        "requestType" request?.requestType {"placeholder":"请求类型","datatype":"*","nullmsg":"请求类型不能为空！",
                        "id":
                        "request_title", "class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("")请选择#end
                        #@tinyOptionItem("0")缺陷#end
                        #@tinyOptionItem("1")适应性#end
                        #@tinyOptionItem("2")完善#end
                        #@tinyOptionItem("3")个性化#end
                        #@tinyOptionItem("4")全新#end
                        #@tinyOptionItem("5")训练#end
                        #@tinyOptionItem("6")支持#end
                        #@tinyOptionItem("7")疑惑#end
                    #end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求优先级" "*")
                #@Tselect2F()
                    #@Tselect2Body(
                        "requestPre" request?.requestPre {"placeholder":"请求优先级","datatype":"*","nullmsg":"请求优先级不能为空！",
                        "id":
                        "request_title", "class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("")请选择#end
                        #@tinyOptionItem("0")低#end
                        #@tinyOptionItem("1")中#end
                        #@tinyOptionItem("2")高#end
                    #end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求模块")
                #@Tselect2F()
                    #@Tselect2Body(
                        "moduleId" request?.moduleId {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("")请选择#end
                        #@tinyOptionItem("2")模块一#end
                        #@tinyOptionItem("3")模块二#end
                        #@tinyOptionItem("4")模块三#end
                    #end
                #end
            #end
        #end

        #@elementItem()
            #@sdpmItem("客户名称" "*")
                #@Tselect2F()
                    #@Tselect2Body(
                        "clientId" request?.clientId {"placeholder":"客户名称","datatype":"*","nullmsg":"客户名称不能为空！","id":
                        "request_title", "class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("")请选择#end
                        #foreach(l:clientList)
                            #@tinyOptionItem(l.clientId)${l?.clientName}#end
                        #end
                    #end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("客户联系人" "*")
                #tinyInput(
                    "text" "requester" request?.requester{"placeholder":"请输入客户联系人","datatype":"*","nullmsg":
                    "客户联系人不能为空！",
                    "id":"request_title","class":"input-text"})
            #end
        #end

        #@elementItem()
            #@sdpmItem("请求标题" "*")
                #tinyInput(
                    "text" "requestTitle" request?.requestTitle{"placeholder":"请求标题","datatype":"*","nullmsg":
                    "请求标题不能为空！","id":
                    "request_title", "class":"input-text select2"})
            #end
        #end

        #@elementItem()
            <div class="col-12">
                <div class="col-2 text-r"><label>请求描述：</label></div>
                <div class="col-9">
                    #@Teditor("content" "requestSpec" {"initialFrameHeight":"280"})${request?.requestSpec}#end</div>
            </div>
        #end
        #@elementItem()
            #@sdpmItem("请求状态" "*")
                #@Tselect2F()
                    #@Tselect2Body(
                        "requestStatus" request?.requestStatus {"placeholder":"请求状态","datatype":"*","nullmsg":
                        "请求状态不能为空！","id":
                        "request_title", "class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("")请选择#end
                        #@tinyOptionItem("0")新建#end
                        #@tinyOptionItem("6")待回访#end
                        #@tinyOptionItem("8")已回访#end
                        #@tinyOptionItem("2")被拒绝#end
                        #@tinyOptionItem("1")处理中#end
                    #end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求提交时间" "*")
                #@tinyDateInput(
                    "requestSubmitDate" formatDate(request?.requestSubmitDate,
                    "yyyy-MM-dd") "YYYY-MM-DD" {"style":"width:200px","datatype":"*",
                "nullmsg":"日期不能为空","placeholder":"请输入日期"})#end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求承诺回复时间")
                #@tinyDateInput("requestCommitmentDate" formatDate(request?.requestCommitmentDate,
                    "yyyy-MM-dd") "YYYY-MM-DD" {"style":"width:200px","datatype":""})#end
            #end
        #end


        <br/>
    </div>
##           /*************保存
    #@elementItem()
        <div class="col-12">
            <div class="col-5">

            </div>
            <div class="col-1">
                <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
            </div>
            <div class="col-1">
                #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")返回#end
            </div>
            <div class="col-5"></div>
        </div>
    #end
    <br>
</div>

#end

<script type="text/javascript">
    $("select.select2").select2();
</script>
<script type="text/javascript">
    $(function () {
        $("form[name=thisform").Validform({
            tiptype: 2

        });
    });
</script>

