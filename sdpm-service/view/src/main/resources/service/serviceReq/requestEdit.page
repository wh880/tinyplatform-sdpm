#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#import("/org/tinygroup/table/components/table.component")
#!set(activeTitle="服务管理",activeMenuId=currentPageId)

#set(name="request")
#@div()
    #@tabWithInit("tab_demo" "optionsBox")
      #*  #@div(divClass="dropdownBox")
            #include("/service/serviceCom/dropdownMenu.page")
        #end*#
        #@tabHead()
            #include("/service/serviceCom/tab.page")
        #end
    #end
#end


#@tinyForm("thisform" "" "" {"class":"test"})
<div style="width:70%;margin-left: 200px;" class="pageleftpart">
    <div class="infoContent">
        <p class="titleName">请求变更</p>

        #@elementItem()
            #@sdpmItem("产品名称" "*")
                #@Tselect2F()
                    #@Tselect2Body("lang" "IN" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("ch")请选择#end
                        #@tinyOptionItem("zh")产品一#end
                        #@tinyOptionItem("en")产品二#end
                        #@tinyOptionItem("ta")产品三#end
                    #end
                ##                    #@Tselect2Fix()<a href="${TINY_CONTEXT_PATH}/service/sla/slaAdd.page" class="r ">增加</a><a
                ##                            href="${TINY_CONTEXT_PATH}/service/sla/sla.page">全部</a>#end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求类型" "*")
                #@Tselect2F()
                    #@Tselect2Body("lanqg" "IN" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("1")请选择#end
                        #@tinyOptionItem("2")类型一#end
                        #@tinyOptionItem("3")类型二#end
                        #@tinyOptionItem("4")类型三#end
                    #end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求优先级" "*")
                #@Tselect2F()
                    #@Tselect2Body("lanqg" "IN" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("1")请选择#end
                        #@tinyOptionItem("2")1#end
                        #@tinyOptionItem("3")2#end
                        #@tinyOptionItem("4")3#end
                    #end
                #end
            #end
        #end






        #@elementItem()
            #@sdpmItem("请求标题" "*")
                #tinyInput(
                    "text" "username" ""{"placeholder":"请输入请求标题","datatype":"*","nullmsg":"请求标题不能为空！","id":
                    "request_title",
                    "class":"input-text"})
            #end
        #end

        #@elementItem()
            #@sdpmItem("客户名称" "*")
                #@Tselect2F()
                    #@Tselect2Body("lanqg" "IN" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("1")请选择#end
                        #@tinyOptionItem("2")客户一#end
                        #@tinyOptionItem("3")客户二#end
                        #@tinyOptionItem("4")客户三#end
                    #end
                #end
            #end
        #end
        #@elementItem()
            #@sdpmItem("客户联系人" "*")
                #@Tselect2F()
                    #@Tselect2Body("lang" "IN" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        #@tinyOptionItem("ch")请选择#end
                        #@tinyOptionItem("zh")联系人一#end
                        #@tinyOptionItem("en")联系人二#end
                        #@tinyOptionItem("ta")联系人三#end
                    #end
                    #@Tselect2Fix()<a href="${TINY_CONTEXT_PATH}/service/client/companyInfoEdit2.page" class="r ">增加</a>
                    #end
                #end
            #end
        #end


        #@elementItem()
            #@sdpmItem("请求提交时间" "*")
                #@tinyDateInput(
                    "regionday" "" "YYYY-MM-DD" {"style":"width:200px","datatype":"*","nullmsg":
                    "日期不能为空"})#end
            #end
        #end
        #@elementItem()
            #@sdpmItem("请求承诺回复时间")
                #@tinyDateInput(
                    "regionday" "" "YYYY-MM-DD" {"style":"width:200px","datatype":""})#end
            #end
        #end

        #@elementItem()

            <div class="col-12">
                <div class="col-2 text-r"><label>请求描述：</label></div>

                <div class="col-9">
                    #@Teditor("content1" "content1" {"initialFrameHeight":"150"})Say something#end</div>
            </div>
            #@validateDiv("col-2")#end
        #end

        <br/>
    </div>
##           /*************保存
    #@elementItem()
        <div class="col-12">
            <div class="col-5">

            </div>
            <div class="col-1">
                <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
            </div>
            <div class="col-1">
                #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")返回#end
            </div>
            <div class="col-5"></div>
        </div>
    #end
    <br>
</div>

#end

###@tinyForm("thisform" "url" "post" {"class":""})
##<div style="width:70%;margin-left: 200px" class="pageleftpart">
##    <div class="infoContent">
##        <p class="titleName">编辑</p>
##
##        #@elementItem()
##            #@sdpmItem("产品ID")
##                #@tinySelect("lang" "zh" {"class":"input-text select2","rel":"22"})
##                    #@tinyOptionItem("zh")产品1#end
##                    #@tinyOptionItem("en")产品2#end
##                    #@tinyOptionItem("ta")产品3#end
##                #end
##            #end
##        #end
##
##        #@elementItem()
##            #@sdpmItem("客户ID")
##
##                #tinyInput("text" "客户ID" ""{"datatype":"","id":"客户 ID","class":"input-text"})
##
##            #end
##            #@validateDiv("col-2")#end
##        #end
##        #@elementItem()
##            #@sdpmItem("请求级别")
##                #@tinySelect("lang" "zh" {"class":"input-text select2","rel":"22"})
##                    #@tinyOptionItem("zh")请求级别1#end
##                    #@tinyOptionItem("en")请求级别2#end
##                    #@tinyOptionItem("ta")请求级别3#end
##                #end
##            #end
##        #end
##
##        #@elementItem()
##            #@sdpmItem("请求分类")
##                #@tinySelect("lang" "zh" {"class":"input-text select2","rel":"22"})
##                    #@tinyOptionItem("zh")请求分类1#end
##                    #@tinyOptionItem("en")请求分类2#end
##                    #@tinyOptionItem("ta")请求分类3#end
##                #end
##            #end
##        #end
##
##        #@elementItem()
##            #@sdpmItem("请求期限")
##                #@tinyDateInput(
##                    "birthday" "" "YYYY-MM-DD HH:mm:ss" {"style":"width:200px","datatype":"*","nullmsg":
##                    "日期不能为空","placeholder":""})#end
##            #end
##            #@validateDiv("col-2")#end
##        #end
##
##        #@elementItem()
##            #@sdpmItem("请求标题 ")
##
##                #tinyInput("text" "请求标题" ""{"datatype":"","id":"请求标题","class":"input-text"})
##            #end
##            #@validateDiv("col-2")#end
##        #end
##
##        #@elementItem()
##
##            <div class="col-12">
##                <div class="col-2 text-r"><label>请求表述：</label></div>
##
##                <div class="col-9">
##                    #@Teditor("content1" "content1" {"initialFrameHeight":"150"})Say something#end</div>
##            </div>
##            #@validateDiv("col-2")#end
##        #end
##
##
##        #@elementItem()
##            #@colLabel()解决时间：#end
##            #@formControlDiv("col-8")
##                #@tinyDateInput(
##                    "birthday" "" "YYYY-MM-DD HH:mm:ss" {"style":"width:200px","datatype":"*","nullmsg":
##                    "日期不能为空","placeholder":""})#end
##            #end
##            #@validateDiv("col-2")#end
##        #end
##        #@elementItem()
##            #@sdpmItem("解决人员")
##                #@tinySelect("lang" "zh" {"class":"input-text select2","rel":"22"})
##                    #@tinyOptionItem("zh")张三#end
##                    #@tinyOptionItem("en")李四#end
##                    #@tinyOptionItem("ta")王五#end
##                #end
##            #end
##        #end
##
##        #@elementItem()
##            <div class="col-12">
##                <div class="col-2 text-r"><label>解决方案：</label></div>
##
##                <div class="col-9">
##                    #@Teditor("content2" "content2" {"initialFrameHeight":"150"})Say something#end</div>
##            </div>
##            #@validateDiv("col-2")#end
##        #end
##        #@elementItem()
##            #@colLabel()回访时间：#end
##            #@formControlDiv("col-8")
##                #@tinyDateInput(
##                    "birthday" "" "YYYY-MM-DD HH:mm:ss" {"style":"width:200px","datatype":"*","nullmsg":
##                    "日期不能为空","placeholder":""})#end
##            #end
##            #@validateDiv("col-2")#end
##        #end
##
##        #@elementItem()
##            #@sdpmItem("回访人员")
##                #@Tselect2F()
##                    #@Tselect2Body("lang" "IN" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
##                        <option value="IN">请选择</option>
##                        <option value="CT">张三</option>
##                        <option value="DE">李四</option>
##                    #end
##                    #@Tselect2Fix()<a href="${TINY_CONTEXT_PATH}/organization/user/add.page" class="r ">增加</a><a
##                            href="#">全部</a>#end
##                #end
##            #end
##        #end
##        #@elementItem()
##            #@sdpmItem("客户满意")
##                #@tinySelect("lang" "zh" {"class":"input-text select2","rel":"22"})
##                    #@tinyOptionItem("zh")非常满意#end
##                    #@tinyOptionItem("zh")满意#end
##                    #@tinyOptionItem("zh")一般#end
##                    #@tinyOptionItem("en")不满意#end
##                    #@tinyOptionItem("ta")非常不满意#end
##                #end
##            #end
##        #end
##        #@elementItem()
##            <div class="col-12">
##                <div class="col-2 text-r"><label>回访记录：</label></div>
##
##                <div class="col-9">
##                    #@Teditor("content3" "content3" {"initialFrameHeight":"150"})Say something#end</div>
##            </div>
##            #@validateDiv("col-2")#end
##        #end
##    </div>
##    #@elementItem()
##        <div class="col-12" style="margin-left: 200px">
##            <div class="col-5">
##
##            </div>
##            <div class="col-1">
##                <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
##            </div>
##            <div class="col-1">
##                <button style="float: left" type="submit" id="submit" class="backBtn">返回</button>
##            </div>
##            <div class="col-5"></div>
##        </div>
##    #end
##</div>
###end







<script type="text/javascript">

    $(function () {

        $("form[name=thisform").attr("action", '#link("/Validform_post.html")');
        $("form[name=thisform").Validform({
            tiptype: 2,
            usePlugin: {
                //datepicker:{},//日期控件校验;
                passwordstrength: {
                    minLen: 6,//设置密码长度最小值，默认为0;
                    maxLen: 18,//设置密码长度最大值，默认为30;
                    trigger: function (obj, error) {
                        //该表单元素的keyup和blur事件会触发该函数的执行;
                        //obj:当前表单元素jquery对象;
                        //error:所设密码是否符合验证要求，验证不能通过error为true，验证通过则为false;
                        //console.log(error);
                        if (error) {
                            obj.parent().find(".Validform_checktip").show();
                            obj.parent().find(".passwordStrength").hide();
                        } else {
                            obj.parent().find(".passwordStrength").show();
                        }
                    }
                }
            },
            ajaxPost: true,
            beforeCheck: function (curform) {
                //在表单提交执行验证之前执行的函数，curform参数是当前表单对象。
                //这里明确return false的话将不会继续执行验证操作;
            },
            beforeSubmit: function (curform) {
                //在验证成功后，表单提交前执行的函数，curform参数是当前表单对象。
                //这里明确return false的话表单将不会提交;
            },
            callback: function (data) {
                if (data.status == "y") {
                    setTimeout(function () {
                        $.Hidemsg(); //公用方法关闭信息提示框;显示方法是$.Showmsg("message goes here.");
                    }, 2000);
                }
                //返回数据data是json对象，{"info":"demo info","status":"y"}
                //info: 输出提示信息;
                //status: 返回提交数据的状态,是否提交成功。如可以用"y"表示提交成功，"n"表示提交失败，在Validform_post.html文件返回数据里自定字符，主要用在callback函数里根据该值执行相应的回调操作;
                //你也可以在Validform_post.html文件返回更多信息在这里获取，进行相应操作；
                //ajax遇到服务端错误时也会执行回调，这时的data是{ status:**, statusText:**, readyState:**, responseText:** }；

                //这里执行回调操作;
                //注意：如果不是ajax方式提交表单，传入callback，这时data参数是当前表单对象，回调函数会在表单验证全部通过后执行，然后判断是否提交表单，如果callback里明确return false，则表单不会提交，如果return true或没有return，则会提交表单。
            }
        });
    });
</script>
<script type="text/javascript">
    $(".select2").select2();
</script>


