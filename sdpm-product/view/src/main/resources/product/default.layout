#import("/org/tinygroup/button/components/button_smart.component")
#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#!set(activeTitle="产品管理",activeMenuId=currentPageId)
#include("/product/page/event/common.page")

<style>
    .btn-group #Dropdown {
        background: none;
        border: none;
        padding: 0 3px
    }

    .open #downMenuSty {
        min-width: 75px
    }
</style>
<script >
	function ajaxRead(ajaxType,opKey,opvalue){
		var selectCheck = "select[ajaxType='"+ajaxType+"']";
		$(selectCheck).each(function(){
				
				var sele = $(this);	
				$.ajax({
					type: "POST",
					url: "${TINY_CONTEXT_PATH}"+$(this).attr('url'),
				   	data: $(this).attr('data'),
				   	dataType:"json",
					success: function(data){
						for(var i=0,l=data.length;i<l;i++){
							var em = "<option value='"+data[i][opKey]+"'>"+ data[i][opvalue] +"</option>";
							sele.append(em);
							
						}						
						sele.val(data[0][opKey]).trigger("change");
						
					},
					error: function(res){
						alert("失败");
					}
				});
				
				
			});
			
	}
</script>


#@div()
    #@tabWithInit("top_demo" "optionsBox")

        #@div(divClass="dropdownBox")
            #include("/productLine/page/project/dropdownMenuline.page")
        #end

        #@div(divClass="dropdownBox")
            #include("/product/page/project/dropdownMenu.page")
        #end

        #@tabHead()

            #foreach(m in menuManager.getChildMenus("myproduct"))
            	#set(url=eval(m.href))
                #if(m.scope!="product-menu")
                
                    #@aHeadCol(TINY_CONTEXT_PATH+url linkName==m.id?"Current":"")${m.name}#end
                #end
            #end
        #*
                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/togglebox.page?currentPageId="+currentPageId linkName=="demand"?"Current":"")需求#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/dymanicdata.page?currentPageId="+currentPageId  linkName=="dynamic"?"Current":"")动态#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/product-plan.page?currentPageId="+currentPageId  linkName=="plan"?"Current":"")计划#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/product-release.page?currentPageId="+currentPageId  linkName=="release"?"Current":"")发布#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/product-roadmap.page?currentPageId="+currentPageId  linkName=="roadmap"?"Current":"")路线图#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/archive-list.page?currentPageId="+currentPageId  linkName=="archive"?"Current":"")文档#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/product-project-list.page?currentPageId="+currentPageId  linkName=="project"?"Current":"")项目#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/product-modular.page?currentPageId="+currentPageId  linkName=="modular"?"Current":"")模块#end

                        #@aHeadCol(TINY_CONTEXT_PATH+"/product/page/project/overview.page?currentPageId="+currentPageId  linkName=="overview"?"Current":"")概况#end
                        *#
        #end

    <span class="r" style="position:relative;top:-28px;height:0">
        #foreach(m:menuManager.getScopeMenus("product-menu"))
            <a title="${m.name}" class="ml-5" href="${TINY_CONTEXT_PATH}${m.href}"><i class="${m.icon}">${m.name}</i></a>
        #end


    </span>
    #pageContent
    #end
#end

#@dialog("myModal")
    #@dialogHeader()对话框标题#end
    #@dialogBody()<p>对话框内容…</p>#end
    #@dialogFooter()
        #@buttonCancel()关闭#end
    #end
#end

<script type="text/javascript">
    $(function () {
        var timeid;
        $(".tabOption").find("li").each(function (index) {
            var sTab = $(this);
            sTab.mouseenter(function () {
                timeid = setTimeout(function () {
                    sTab.addClass("tabCurrent").siblings().removeClass("tabCurrent");
                    sTab.parent().siblings().find("ul:eq(" + index + ")").show().siblings().hide();
                }, 300);
            }).mouseleave(function () {
                clearTimeout(timeid);
            })
        })
    })
</script>

##JS代码全选和反选
<script type="text/javascript">

    function selectAllNullorReserve(obj, type) {
        if (obj != null && obj != "") {
            if (document.getElementsByName(obj) != undefined && document.getElementsByName(obj).length > 0) {	//getElementsByName函数的作用按名字查找对象，返回一个数组。
                var userids = document.getElementsByName(obj);
                if (type == "全选") {
                    for (var i = 0; i < userids.length; i++) {
                        if (userids[i].checked == false) {
                            userids[i].checked = true;
                        }
                    }
                } else if (type == "全不选") {
                    for (var i = 0; i < userids.length; i++) {
                        if (userids[i].checked == true) {
                            userids[i].checked = false;
                        }
                    }
                } else if (type == "反选") {
                    for (var i = 0; i < userids.length; i++) {
                        if (userids[i].checked == true) {
                            userids[i].checked = false;
                        } else {
                            userids[i].checked = true;
                        }
                    }
                }
            }
        }
    }
</script>



