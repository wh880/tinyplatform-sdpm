
#macro Tcheckboxes(name checkedValue mapInfo)
#bodyContent
<script type="text/javascript">
$(function(){
	var checkvalstr="${checkedValue}";
	var checkval=checkvalstr.split(",");
	$("input[name=${name}]").each(function(e){
		if(checkval.indexOf(this.value)>-1){
			this.checked=true;
		}else{
			this.checked=false;
		}
	});
})
</script>
#end

#macro Tcheckbox(value)
	#set(checkId=(mapInfo?.id)?:fmt("check%d",rand()))
	<div class="radio-box"><input type="checkbox" name="${name}" class="icheckbox icheckbox-blue #getmapVal("class",mapInfo)" id="${checkId}" value="${value}" #getmapInfo(mapInfo)/><label for="${checkId}">#bodyContent</label></div>
#end


#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#!set(linkName="product-overview",sonitem="<li>"+"概况"+"</li>")

#@tinyForm("thisform" TINY_CONTEXT_PATH+"/product/update" "post" {"class":"test"})
<div style="width:100%;float:center" class="pageleftpart">
   <div class="infoContent">
        <p class="titleName">编辑</p>
 #@elementItem()
        #@colLabel()产品名称：#end
        #@formControlDiv("col-4")
          #tinyInput("text" "33" product.productName {"nullmsg":"请输入产品名称！","id":"33","class":"input-text"})
        #end
        #@validateDiv("col-2")#end
 #end
#@elementItem()
        #@colLabel()产品代号：#end
        #@formControlDiv("col-4")
          #tinyInput("text" "33" product.productCode {"nullmsg":"请输入产品名称！","id":"33","class":"input-text"})
        #end
        #@validateDiv("col-2")#end
#end
#@elementItem()
		#@colLabel()产品负责人：#end
		#@formControlDiv("col-4")
			#@Tselect2F()
                    #@Tselect2Body("lang" product.productOwner {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        <option value="xubin">xubin</option>
                        <option value="admin">admin</option>
                        <option value="FL">开发主管</option>
                    #end
                
#*
                    #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end
*#
                #end

		#end
		#@validateDiv("col-2")#end
#end
#@elementItem()
		#@colLabel()测试负责人：#end
		#@formControlDiv("col-4")
			#@Tselect2F()
                    #@Tselect2Body("lang" product.productQualityManager {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        <option value="xubin">xubin</option>
                        <option value="admin">admin</option>
                        <option value="FL">测试C</option>
                    #end
                
                 #*   #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end*#
                #end

		#end
		#@validateDiv("col-2")#end
#end
#@elementItem()
		#@colLabel()发布负责人：#end
		#@formControlDiv("col-4")
			#@Tselect2F()
                    #@Tselect2Body("lang" product.productDeliveryManager {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                       <option value="xubin">xubin</option>
                        <option value="admin">admin</option>
                        <option value="FL">测试C</option>
                    #end
                
                  #*  #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end*#
                #end

		#end
		#@validateDiv("col-2")#end
#end
#@elementItem()
        #@colLabel()状态：#end
        #@formControlDiv("col-4")
             #@Tselect2F()
                    #@Tselect2Body("lang" product.productStatus {"class":"input-text"}) ##,"multiple":"multiple"加上为多选项
                       <option value="0">正常</option>
                       <option value="1">结束</option>
                    #end
                
                  #*  #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end*#
                #end
        #end
        #@validateDiv("col-2")#end
#end
#@elementItem()
        #@colLabel()产品描述：#end
	#@formControlDiv("col-8")
			#@Teditor("content1" "content1" {"initialFrameHeight":"250" ,"placeholder":"说点什么...最少输入10个字符","datatype":"*10-500"})${product.productDesc}#end
	#end
        #@validateDiv("col-2")#end
#end


		#@elementItem()
        #@colLabel()访问控制：#end
        #@skinMinimal("col-8")
       
        	<div>#@tinyRadio("acl" "0" product?.acl {"onclick":"setWhite(this.value)"}) 默认设置(有项目视图权限，即可访问) #end</div>
        	<div>#@tinyRadio("acl" "2" product?.acl {"onclick":"setWhite(this.value)"}) 私有项目(只有项目团队成员才能访问) #end</div>
        	<div>#@tinyRadio("acl" "1" product?.acl {"onclick":"setWhite(this.value)"}) 自定义白名单(团队成员和白名单的成员可以访问) #end</div>
        

		#end
        #@validateDiv("col-2")#end
    #end
    #@elementItem("whitelistBox" product?.acl!=1?'hidden':'')
        	#@colLabel()分组白名单#end
			#@skinMinimal()
				#@Tcheckboxes("productWhiteList" product?.productWhiteList)
					#@Tcheckbox("admin")管理员#end
					#@Tcheckbox("develop")研发#end
					#@Tcheckbox("test")测试#end
					#@Tcheckbox("projectManager")项目经理#end
					#@Tcheckbox("productManager")产品经理#end
					#@Tcheckbox("developSupervisor")研发主管#end
					#@Tcheckbox("productSupervisor")产品主管#end
					#@Tcheckbox("testSupervisor")测试主管#end
				#end
				
				
				
			#end
        #@validateDiv("col-2")#end
      #end
	 </div> 

 #@elementItem()
        <div class="col-12">
            <div class="col-5">

            </div>
            <div class="col-1">
                <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
            </div>
            <div class="col-1">
                 #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")返回#end
            </div>
            <div class="col-5"></div>
        </div>
    #end

#end
  
<script type="text/javascript">


function setWhite(acl)
{
    acl == '1' ? $('#whitelistBox').removeClass('hidden') : $('#whitelistBox').addClass('hidden');
}
</script>

