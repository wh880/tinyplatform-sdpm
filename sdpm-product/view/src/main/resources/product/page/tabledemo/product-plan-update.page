#import("/org/tinygroup/form/components/form.component")
#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#!set(linkName="product-plan",sonitem="<li>"+"计划"+"</li>")



<script>

	$(document).ready(function(){
		
		$("input[name='endTime']").each(function(){
			
			$(this).unbind("click").bind("click",function(){
			
				var start =	$("input[name='start-time']").val();
				
				
				if(start!=""){
					start = new Date(Date.parse(start.replace(/-/g, "/")));
					
					var time = $(this).val();
					var end = new Date();
				    if(time=="one-week"){
						end = new Date(start.getFullYear(),start.getMonth(),start.getDate()+7);
					}
					if(time=="two-week"){
						end = new Date(start.getFullYear(),start.getMonth(),start.getDate()+14);
					}
					if(time=="one-month"){
						end = new Date(start.getFullYear(),start.getMonth()+1,start.getDate());
					}
					if(time=="two-month"){
						end = new Date(start.getFullYear(),start.getMonth()+2,start.getDate());
					}
					if(time=="half-year"){
						end = new Date(start.getFullYear(),start.getMonth()+6,start.getDate());
					}
					if(time=="year"){
						end = new Date(start.getFullYear()+1,start.getMonth(),start.getDate());
					}
					
					$("input[name='end-time']").val(end.format("yyyy-MM-dd"))
				}else{
					alert("请选择开始日期");
				}
				
				
			});
		
		});
		
			
	});
 
</script>










#@tinyForm("thisform" TINY_CONTEXT_PATH+"/product/plan/save" "post" {"class":""})
    <div class="infoContent">
        <p class="titleName">编辑</p>
     #@elementItem()
        #@colLabel()产品:#end
        #@formControlDiv("col-4")
        	  产品 X X X X
        #end
        #@validateDiv("col-2")#end
      #end
    #@elementItem()
        #@colLabel()名称:#end
        #@formControlDiv("col-4")
          #tinyInput("text" "planName" productPlan.planName {"datatype":"*4-16","nullmsg":"用户名不能为空！","id":"username","class":"input-text"})
        #end
        #@validateDiv("col-2")#end
    #end

    #@elementItem()
        #@colLabel()开始日期:#end
        #@formControlDiv("col-4")
           #@tinyDateInput("planBeginDate" productPlan.planBeginDate "YYYY-MM-DD" {"datatype":"*","nullmsg":"日期不能为空"})#end
        #end
        #@validateDiv("col-2")#end
    #end
    #@elementItem()
        #@colLabel()结束日期:#end
        #@formControlDiv("col-4")
        	 #@tinyDateInput("planEndDate" productPlan.planEndDate "YYYY-MM-DD" {"datatype":"*","nullmsg":"日期不能为空"})#end
        #end
         <div  class="col-6"> 
         	
			 #@radioBox()
	          	#@tinyRadioes("endTime" "one-week" "time")一周#end
	          #end
	           #@radioBox()
	          	#@tinyRadioes("endTime" "two-week" "time")两周#end
	          #end
	           #@radioBox()
	          	#@tinyRadioes("endTime" "one-month" "time")一个月#end
	          #end
	           #@radioBox()
	          	#@tinyRadioes("endTime" "two-month" "time")两个月#end
	          #end
	           #@radioBox()
	          	#@tinyRadioes("endTime" "half-year" "time")半年#end
	          #end
	          #@radioBox()
	          	#@tinyRadioes("endTime" "year" "time")一年#end
	          #end
	          
	          
        </div>
          
           	
	          
        #@validateDiv("col-2")#end
    #end
    #@elementItem()
        #@colLabel()描述:#end
        #@formControlDiv("col-10")
           #@Teditor("planSpec" productPlan.planSpec {"initialFrameHeight":"250" ,"placeholder":"说点什么...最少输入10个字符","datatype":"*10-500"})备注...最少输入10个字符#end
        #end
        #@validateDiv("col-2")#end
    #end
</div>   
  #@elementItem()
        <div class="col-12">
            <div class="col-5">

            </div>
            <div class="col-1">
                <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
            </div>
            <div class="col-1">
				#@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")返回#end
            </div>
            <div class="col-5"></div>
        </div>
    #end
#end
