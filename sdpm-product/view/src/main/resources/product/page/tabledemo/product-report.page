#import("/org/tinygroup/form/components/form.component")
#import("/org/tinygroup/pieCharts/components/pieCharts.component")
#import("/org/tinygroup/icon/components/icon.component")
#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#!set(linkName="product-demand",sonitem="<li>"+"需求"+"</li>")

<style>
    .togglebox.open .tableBoxessty{margin-left:262px}
    .togglebox.open .togglenavico{left:218px}
    .togglebox .togglenavpart{left:-260px;}
</style>

<script>
	$(document).ready(function(){
		
		$(".but1").unbind("click").bind("click",function(){
			 $(".navbody input[type='checkbox']").each(function(){
			 	this.checked=true
			 		
			 });//attr("checked", "checked");
			
			 		
		}); 
		
		$(".but2").unbind("click").bind("click",function(){
				
			  $(".navbody input[type='checkbox']").each(function () {
			  		this.checked=!this.checked;
			  		
			  		/*console.log(this.checked)
			  		var ischecked = $(this).is(":checked");//("checked");
			  		if(ischecked){
			  			$(this).removeAttr("checked");
			  		}else{
                   	 	$(this).attr("checked","checked");
                    }*/
                });
			
			
		}); 
	
	});
</script>

#include("/product/page/event/common.page")
#set(name="bug")
#@div()
#@tabWithInit("tab_demo" "optionsBox")
   
    #@tabBodyCol("ptop-5")
##operationbar start1
    #@div(divClass="operationbar")
    <span class="f">
		<a href="#" class="active_btn">报表</a>
	</span>
    <span class="r">
    	#@aModal("#myModal" "导出HTML" "500" "130" "btn-class" "/product/page/tabledemo/product-export-demand.pagelet")#buttonIcon(iconClass="icon-download-alt")导出#end
					
		<a href="${TINY_CONTEXT_PATH}/product/page/project/togglebox.page">#buttonIcon(iconClass="icon-goback icon-level-up icon-large icon-rotate-270")返回</a>&nbsp;
	</span>
        #div(divClass="clearfix")
    #end
##operationbar end
        #end
    #@toggleBox({"class":"open"})##展开为class:OPEN 要附加其它的属性请用MAP带入
        #@toggleLeft({"class":"aclass","style":"width:250px;height:450px;overflow:auto"})
            #@settoggleLeftTitle()请选择报表类型#end
            #@settoggleLeftBody()
                    #@skinMinimal()
                        #labelCheckbox(ckId="checkbox-1" ckName="chexkitem" labelText="产品需求数量")
                        #labelCheckbox(ckId="checkbox-3" ckName="chexkitem" labelText="模块需求数量")
                        #labelCheckbox(ckId="checkbox-4" ckName="chexkitem" labelText="需求来源统计")
                        #labelCheckbox(ckId="checkbox-5" ckName="chexkitem" labelText="计划进行统计")
                        #labelCheckbox(ckId="checkbox-6" ckName="chexkitem" labelText="状态进行统计")
                        #labelCheckbox(ckId="checkbox-7" ckName="chexkitem" labelText="所处阶段进行统计")
                        #labelCheckbox(ckId="checkbox-8" ckName="chexkitem" labelText="优先级进行统计")
                        #labelCheckbox(ckId="checkbox-9" ckName="chexkitem" labelText="预计工时进行统计")
                        #labelCheckbox(ckId="checkbox-10" ckName="chexkitem" labelText="由谁创建来进行统计")
                        #labelCheckbox(ckId="checkbox-11" ckName="chexkitem" labelText="由谁指派来进行统计")
                        #labelCheckbox(ckId="checkbox-12" ckName="chexkitem" labelText="当前指派来进行统计")
                        #labelCheckbox(ckId="checkbox-13" ckName="chexkitem" labelText="关闭原因来进行统计")
                        #labelCheckbox(ckId="checkbox-14" ckName="chexkitem" labelText="变更次数来进行统计")
                    #end
               		 #buttonRadiusDefault(btId="but1" btClass="but1" caption="全选")
			        #buttonRadiusDefault(btId="but2" btClass="but2" caption="反选")
			        #buttonRadiusDanger(caption="生成报表")    

            #end
           
        #end 
        
        #@toggleRight("tableBoxessty")
        
            #@settoggleLeftTitle()报表#end
           
            
            <table class="table table-border table-bordered" cellspacing="0">
            	
#*            	产品需求数量分布*#
            	#@centerAlignTr()       
            		 #@th("text-r" "vertical-align:middle;width:20%")
            			#@pieChart(pieChartStyle="width:600px;margin:0 auto;")
            			
            				 <table id='productStory'>
								<caption>产品需求数量分布</caption>
								<thead>
									<tr>
										<th></th>
										#for(productStory:productStoryCount)
											<th>${productStory.name}</th>
										#end
									</tr>
								</thead>
								
								<tbody>
									<tr>
										<th></th>
										#for(productStory:productStoryCount)
											<td>${productStory.number}</td>
										#end
									</tr>
								</tbody>
							</table>
            				

						   
							
							
			
						#end
			
						#pieChartInit("#productStory" "PieChart" "No of players" "Month",600,350)
            			
            		#end
            		
            		
            		<td  style="vertical-align:middle;">
            			#*            				产品需求数量分布*#
            			 <table class="table table-border table-bordered" cellspacing="0">
            			 	 #@theadCenterMenu()   #@th()产品#end        #@th()需求数#end  #@th()百分比#end #end
            			 	 
            			 	 #for(productStory:productStoryCount)
								#@centerAlignTr()        
	            			 	 	
	            			 	 	#@td()${productStory?.name}#end  
	            			 	 	#@td()${productStory?.number}#end      
	            			 	 	#@td()${productStory?.percentToString}#end     
	            			 	 #end
							#end
            			 	
            			 	
            			 
            			 </table>
            			

            			
            		</td>
            	
            	#end
            	
	#*            				模块需求数量分布*#
            	#@centerAlignTr()       
            		 #@th("text-r" "vertical-align:middle;width:20%")
            			#@pieChart(pieChartStyle="width:600px;margin:0 auto;")
            			
            				 
            				

						   <table id='modelStory'>
								<caption>模块需求数量分布</caption>
								<thead>
									<tr>
									
										<th></th>
										#for(modelStory:modelStoryCount)
											<th>${modelStory.name}</th>
										#end
										
										
										
									</tr>
								</thead>
								<tbody>
									<tr>
										<th></th>
										#for(modelStory:modelStoryCount)
											<td>${modelStory.number}</td>
										#end
									</tr>
								</tbody>
							</table>  
							
							
			
						#end
			
						#pieChartInit("#modelStory" "PieChart" "No of players" "Month",600,350)
            			
            		#end
            		
            		
            		<td  style="vertical-align:middle;">

            			
            			
#*            			模块需求数量分布*#
            			 <table class="table table-border table-bordered" cellspacing="0">
            			 	 #@theadCenterMenu()   #@th()模块#end        #@th()需求数#end  #@th()百分比#end #end
            			 	 
            			 	 #for(modelStory:modelStoryCount)
								#@centerAlignTr()        
	            			 	 	
	            			 	 	#@td()${modelStory?.name}#end  
	            			 	 	#@td()${modelStory?.number}#end      
	            			 	 	#@td()${modelStory?.percentToString}#end     
	            			 	 #end
							#end
            			 	
            			 	
            			 
            			 </table>
            			
            		</td>
            	
            	#end
            	
            
            
            </table>
            
            
           

        #end
    #end

#end
#end