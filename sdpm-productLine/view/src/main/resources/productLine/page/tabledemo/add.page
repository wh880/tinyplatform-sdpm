#import("/org/tinygroup/button/components/button_common.component")
#import("/org/tinygroup/button/components/button.component")
#include("/productLine/page/event/mytree.page")
#set(linkName="overview")

#macro radio1(rId rName rChecked rValue rClass rIsDisabled radioOther)
<input#if(rId) id="$!{rId}"#{end}#if(rName) name="$!{rName}"#end#if(rChecked && rChecked=="checked")
               checked#{end}#if(rValue) value="$!{rValue}"#end#if(rClass)
               class="$!{rClass}"#end#if(rIsDisabled && rIsDisabled=="disabled") disabled#end type="radio"
               onclick="${radioOther}"/>
#end
#macro labelRadio1(rId rName rChecked rValue rClass radioOther labelText)
    #@radioBox()
        #radio1(rId=rId rName=rName rChecked=rChecked rValue=rValue rClass=rClass radioOthe=radioOther)
        #@label(ckId)${labelText}#end
    #end
#end




#@tinyForm("thisform" TINY_CONTEXT_PATH +adminPath+"/productLine/save" "post" {"class":""})

    #@elementItem()
        #@colLabel()<span class="c-red">*</span>产品线名称：#end
        #@formControlDiv("col-4")
            #tinyInput(
                "text" "productLineName" ""{"placeholder":"产品线名称","nullmsg":"请输入产品线名称！","datatype":"*","id":
                "product-name","class":"input-text"})
        #end
        #@validateDiv("col-2")#end
    #end
    #@elementItem()
        #@colLabel()<span class="c-red">*</span>产品编号：#end
        #@formControlDiv("col-4")
            #tinyInput(
                "text" "productLineCode" ""{"placeholder":"产品编号","nullmsg":"请输入产品编号！","datatype":"*","id":
                "product-id","class":"input-text"})
        #end
        #@validateDiv("col-2")#end
    #end



    #@elementItem()
        #@colLabel()产品线经理：#end
        #@formControlDiv("col-4")
            #@Tselect2F()
                #@Tselect2Body("productLineOwner" "" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                #end
            <script>

                ajaxRead("${sid}", "productLineOwner", "orgUserId", "orgUserRealName", "/org/user/userList");

            </script>

                #@Tselect2Fix()
                <a href="${TINY_CONTEXT_PATH}/a/org/user/form">增加</a>
                <a href="${TINY_CONTEXT_PATH}/a/org/user/list" class="r">全部</a>
                #end

            #end
        #end
        #@validateDiv("col-2")#end
    #end
    #@elementItem()
        #@colLabel()产品线质量经理：#end
        #@formControlDiv("col-4")
            #@Tselect2F()
                #@Tselect2Body(
                    "productLineQualityManager" "" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                #end

            <script>

                ajaxRead("${sid}", "productLineQualityManager", "orgUserId", "orgUserRealName", "/org/user/userList");

            </script>

                #@Tselect2Fix()
                <a href="${TINY_CONTEXT_PATH}/a/org/user/form">增加</a>
                <a href="${TINY_CONTEXT_PATH}/a/org/user/list" class="r">全部</a>
                #end

            #end
        #end
        #@validateDiv("col-2")#end
    #end
    #@elementItem()
        #@colLabel()产品线交付经理：#end
        #@formControlDiv("col-4")
            #@Tselect2F()
                #@Tselect2Body(
                    "productLineDeliveryManager" "" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                #end
            <script>

                ajaxRead("${sid}", "productLineDeliveryManager", "orgUserId", "orgUserRealName", "/org/user/userList");

            </script>

                #@Tselect2Fix()
                <a href="${TINY_CONTEXT_PATH}/a/org/user/form">增加</a>
                <a href="${TINY_CONTEXT_PATH}/a/org/user/list" class="r">全部</a>
                #end

            #end
        #end
        #@validateDiv("col-2")#end
    #end
    #@elementItem()
        #@colLabel()产品线描述：#end
        #@formControlDiv("col-8")
            #@Teditor("productLineSpec" "productLineSpec" {"initialFrameHeight":"200" ,"placeholder":"说点什么...最少输入10个字符",
                "datatype":"*10-500"})描述一下产品的相关信息...#end
        #end
        #@validateDiv("col-2")#end
    #end

    #@elementItem()
        #@colLabel()<span class="c-red">*</span>访问控制：#end
        #@skinMinimal("col-8")

            #@Tradioes("acl" productLine?.acl {"onclick":"setWhite(this.value)"})
                #foreach(source:getDict("lineAccessControl"))
                <div>#@Tradio(source?.value)${source?.text}#end</div>
                #end
            #end
        #end
        #@validateDiv("col-2")#end
    #end

    #@elementItem("whitelistBox" productLine?.acl!=1?'hidden':'')
        #@colLabel()<span class="c-red">*</span>分组白名单#end
        #@skinMinimal("col-8")
            #@Tcheckboxes("productLineWhiteList" productLine?.productLineWhiteList)
                #foreach(source:getDict("whiteList"))
                    #@Tcheckbox(source?.value)${source?.text}#end
                #end
            #end
        #end
        #@validateDiv("col-2")#end
    #end



    #@elementItem()
    <div class="col-12">
        <div class="col-5">

        </div>
        <div class="col-1">
            <button style="float: left" type="submit" id="submit" class="commitBtn">保存</button>
        </div>
        <div class="col-1">
            #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")返回#end
        </div>
        <div class="col-5"></div>
    </div>
    #end
#end




<script type="text/javascript">
    function setWhite(acl) {
        acl == 'custom' ? $('#whitelistBox').removeClass('hidden') : $('#whitelistBox').addClass('hidden');
    }
</script>
<script type="text/javascript">
    $(function () {
        $("form[name=thisform").Validform({
            tiptype: 2
        });
    });
</script>
<script type="text/javascript">
    function setWhite(acl) {
        acl == '2' ? $('#whitelistBox').removeClass('hidden') : $('#whitelistBox').addClass('hidden');
    }
</script>