#@table("itemlist-table")
	#@thead()
	  #@tr()
		#@th("text-c w-50px")编号#end
		  #@th("text-c")文件#end
		  #@th("text-c")标题#end
		#@th("text-c w-125px")操作#end
	  #end
	#end
	#@tbody("hide tpl")
		#@tr()
			#@td("text-c stepID")1#end
			#@td("w-p50")
				#tinyInput("file" "file" ""{"class":"form-control"})
			#end
			#@td()
				#tinyInput("text" "title" ""{"class":"form-control" ,"placeholder":"标题"})
			#end
			#@td("w-p125")
					#iconOperations(iconOperationsIcon="icon-chevron-up",iconOperationsTitle="之前添加",iconOperationsCls="btn btn-small btn-default addpre")
					#iconOperations(iconOperationsIcon="icon-chevron-down",iconOperationsTitle="之后添加",iconOperationsCls="btn btn-small btn-default addnext")
					#iconOperations(iconOperationsIcon="icon-remove",iconOperationsTitle="删除",iconOperationsCls="btn btn-small btn-default delbutton")
			#end
		#end
	#end
	#@tbody("databody")
	#@tr(trId="row1")
		#@td("text-c stepID")1#end
			#@td("w-p50")
				#tinyInput("file" "file" ""{"class":"form-control"})
			#end
			#@td()
				#tinyInput("text" "title" ""{"class":"form-control" ,"placeholder":"标题"})
			#end
		#@td("w-p125")
				#iconOperations(iconOperationsIcon="icon-chevron-up",iconOperationsTitle="之前添加",iconOperationsCls="btn btn-small btn-default addpre")
				#iconOperations(iconOperationsIcon="icon-chevron-down",iconOperationsTitle="之后添加",iconOperationsCls="btn btn-small btn-default addnext")
				#iconOperations(iconOperationsIcon="icon-remove",iconOperationsTitle="删除",iconOperationsCls="btn btn-small btn-default delbutton")
		#end
	#end
	#end
#end
<script>
$(function(){
    function updateStepID() {
		$('.itemlist-table>.databody .stepID').each(function(index){
			$(this).html(index+1);
		});
	}
	$(".itemlist-table").on("click",".addpre",function(){
		$(this).parents("tr:first").before($("tbody.tpl").html());
		updateStepID();
	}).on("click",".addnext",function(){
		$(this).parents("tr:first").after($("tbody.tpl").html());
		updateStepID();
	}).on("click",".delbutton",function(){
		if($('.databody .stepID').size() == 1) return;
		layer.confirm('确定删除?', function(){
			$('.databody .stepID').parents("tr:first").remove();
			updateStepID();
			layer.msg('删除成功！',1,1)
		})
	});
});
</script>