<style>
    .titleNamesty {
        background: #f9f9f8;
        border: #eee 1px solid;
        padding: 3px 8px;
        font-size: 15px;
    }

    .titleBarsty {
        margin-top: -10px;
    }
</style>
#set(name="organizationUser")

#@div()
    #@tabWithInit("tab_demo" "optionsBox")
        #@tabHead()
            #include("/organization/common/tab.page")
        #end
        #@tabBodyCol("ptop-5")
            #@div(divClass="operationbar")
            <span>添加用户</span>
            #end
        #end
    #end
#end


#@noRespsGridSystem()
    #@gridSysRow()
        #@gridSysCol(3)#end
        #@gridSysCol(6)
            #@tinyForm("thisform" TINY_CONTEXT_PATH+"/org/user/save" "post" {"class":""})
                #hiddenInput(hiddenInputName="orgUserId" hiddenInputValue=cmsArticle?.articleId)

            <imput type="hidden" name="orgUserId" value="${user?.orgUserId}"/>
                #@noRespsGridSystem()
                    #@gridSysRow()
                    <div class="infoContent">
                        <p class="titleName">基本信息</p>
                        #@gridSysRow()
                            #@colLabel("col-4")<span class="c-red">*</span>真实姓名：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserRealName" user?.orgUserRealName {"datatype":"","id":"请求标题","class":
                                    "input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")所属部门：#end
                            #@gridSysCol(6)
                                #@Tselect2F()
                                    #@Tselect2Body("orgDeptId" user?.orgDeptId {"class":
                                        "input-text select2"}) ##,"multiple":"multiple"加上为多选项
                                        <option value="1111">部门0</option>
                                        <option value="2222">部门1</option>
                                        <option value="33">部门2</option>
                                        <option value="444">部门3</option>
                                        <option value="555">部门4</option>
                                        <option value="666">部门5</option>
                                    #end
                                    #@Tselect2Fix()
                                        <a href="${TINY_CONTEXT_PATH}/org/user/form" class="r">增加</a>
                                        <a href="#">全部</a>
                                    #end
                                #end
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")职位：#end
                            #@gridSysCol(6)
                                #tinyInput("text" "orgUserRole" user?.orgUserRole{"datatype":"","class":"input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")权限：#end
                            #@gridSysCol(6)
                                #@Tselect2F()
                                    #@Tselect2Body(
                                        "lang" "权限" {"class":"input-text select2","style":"width:296px","multiple":
                                        "multiple"})
                                        <option value="1">权限</option>
                                        <option value="2">研发</option>
                                        <option value="3">测试</option>
                                        <option value="4">管理</option>
                                        <option value="5">需求设计</option>
                                    #end
                                    #@Tselect2Fix()<a href="#" class="r">增加</a><a href="#">全部</a>#end
                                #end
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")加入日期：#end
                            #@gridSysCol(6)
                                #@tinyDateInput(
                                    "orgUserJoin" user?.orgUserJoin  "YYYY-MM-DD" {"style":"width:200px","datatype":"*",
                                    "nullmsg":"日期不能为空",
                                    "placeholder":""})#end
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")性别：#end
                            #@gridSysCol(6)
                                #@tinyRadio(
                                    "orgUserGender" "0" user?.orgUserGender?:"0" {"nullmsg":"请选择性别！","datatype":"*"})
                                    男#end
                                #@tinyRadio("orgUserGender" "1" user?.orgUserGender?:"0")女#end
                            #end
                        #end
                    </div>
                    <div class="infoContent">
                        <p class="titleName">账号信息</p>
                    ##                        #@gridSysRow()
                    ##                            #@colLabel("col-4")<span class="c-red">*</span>用户ID：#end
                    ##                            #@gridSysCol(6)
                    ##                                #tinyInput(
                    ##                                    "text" "orgUserId" user?.orgUserId {"datatype":"","id":"请求标题","class":
                    ##                                    "input-text"})
                    ##                            #end
                    ##                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")<span class="c-red">*</span>用户名：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserAccount" user?.orgUserAccount {"datatype":"","id":"请求标题","class":
                                    "input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")邮箱：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserEmail" user?.orgUserEmail {"placeholder":"","datatype":"*","nullmsg":
                                    "请输入公司名称！","id":
                                    "name",
                                    "class":
                                    "input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")密码：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "password" "orgUserPassword" user?.orgUserPassword {"placeholder":"密码","datatype":
                                    "*6-18",
                                    "nullmsg":
                                    "请输入密码！",
                                    "autocomplete":
                                    "off","id":"password","class":"input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")密码验证：#end
                            #@gridSysCol(6)
                                #tinyInput("password" "password2" ""{"placeholder":"密码","datatype":"*6-18","nullmsg":
                                    "请再输入一次密码！",
                                    "autocomplete":"off","recheck":"orgUserPassword","errormsg":"您两次输入的密码不一致！","id":
                                    "password2","class":
                                    "input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")源代码账号：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserSubmitter" user?.orgUserSubmitter{"placeholder":"","datatype":"*",
                                    "nullmsg":"请输入公司名称！","id":"name",
                                    "class":
                                    "input-text"})
                            #end
                        #end
                    </div>
                    <div class="infoContent">
                        <p class="titleName">联系信息</p>
                        #@gridSysRow()
                            #@colLabel("col-4")Skype：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserSKYPE" user?.orgUserSKYPE{"placeholder":"","datatype":"*","nullmsg":
                                    "",
                                    "id":"name","class":
                                    "input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")QQ：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserQQ" user?.orgUserQQ {"placeholder":"","datatype":"*","nullmsg":"",
                                    "id":
                                    "name","class":
                                    "input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")微信：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserYahoo" user?.orgUserYahoo {"placeholder":"","datatype":"*","nullmsg":
                                    "",
                                    "id":"name","class":
                                    "input-text"})

                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")Gtalk：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserGTalk" user?.orgUserGTalk {"placeholder":"","datatype":"*","nullmsg":
                                    "",
                                    "id":"name","class":
                                    "input-text"})

                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")旺旺：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserWANGWANG" user?.orgUserWANGWANG {"placeholder":"","datatype":"*",
                                    "nullmsg":
                                    "","id":"name","class":
                                    "input-text"})

                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")手机：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserMobile" user?.orgUserMobile {"placeholder":"","datatype":"*",
                                    "nullmsg":"","class":"input-text"})

                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")电话：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserPhone" user?.orgUserPhone{"placeholder":"","datatype":"*","nullmsg":
                                    "",
                                    "id":"name","class":
                                    "input-text"})

                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")通讯地址：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserAddress" user?.orgUserAddress{"placeholder":"","datatype":"*",
                                    "nullmsg":"",
                                    "id":"name","class":
                                    "input-text"})

                            #end
                        #end
                        #@gridSysRow()
                            #@colLabel("col-4")邮编：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "text" "orgUserZipCode" user?.orgUserZipCode{"placeholder":"","datatype":"*",
                                    "nullmsg":"",
                                    "id":"name","class":
                                    "input-text"})

                            #end
                        #end
                    </div>


                    <div class="infoContent">
                        <p class="titleName">安全验证</p>
                        #@gridSysRow()
                            #@colLabel("col-4")<span class="c-red">*</span>请输入密码：#end
                            #@gridSysCol(6)
                                #tinyInput(
                                    "password" "name" "" {"placeholder":"","datatype":"*","nullmsg":"请输入密码！","id":
                                    "name",
                                    "class":"input-text"})
                            #end
                        #end
                        #@gridSysRow()
                            #@div(divClass="col-8 col-offset-4 form-inline")
                                #tinyInput("submit" "submitbtn" " 提交 " {"class":"btn btn-primary"})
                            #end
                        #end
                    </div>
                    #end
                #end
            #end
        ##    #@gridSysRow()
        ##        #@div(divClass="col-7 col-offset-5 form-inline")
        ##            #tinyInput("submit" "submitbtn" " 保存 " {"class":"btn btn-primary"})
        ##        ##            #@aExtendButton("btn-sm backBtn" "javascript:history.go(-1)")取消#end
        ##
        ##        <a href="javascript:history.go(-1)" class="btn radius btn-default">返回</a>
        ##        #end
        ##    #end
        #end
    #end
#end


##<script type="text/javascript">
##    $(function () {
####        $("form[name=thisform").attr("action", '#link("/Validform_post.html")');
##        $("form[name=thisform").Validform({
##            tiptype: 2,
##            usePlugin: {
##                //datepicker:{},//日期控件校验;
##                passwordstrength: {
##                    minLen: 6,//设置密码长度最小值，默认为0;
##                    maxLen: 18,//设置密码长度最大值，默认为30;
##                    trigger: function (obj, error) {
##                        //该表单元素的keyup和blur事件会触发该函数的执行;
##                        //obj:当前表单元素jquery对象;
##                        //error:所设密码是否符合验证要求，验证不能通过error为true，验证通过则为false;
##                        //console.log(error);
##                        if (error) {
##                            obj.parent().find(".Validform_checktip").show();
##                            obj.parent().find(".passwordStrength").hide();
##                        } else {
##                            obj.parent().find(".passwordStrength").show();
##                        }
##                    }
##                }
##            },
##            ajaxPost: true,
##            beforeCheck: function (curform) {
##                //在表单提交执行验证之前执行的函数，curform参数是当前表单对象。
##                //这里明确return false的话将不会继续执行验证操作;
##            },
##            beforeSubmit: function (curform) {
##                //在验证成功后，表单提交前执行的函数，curform参数是当前表单对象。
##                //这里明确return false的话表单将不会提交;
##            },
##            callback: function (data) {
##                if (data.status == "y") {
##                    setTimeout(function () {
##                        $.Hidemsg(); //公用方法关闭信息提示框;显示方法是$.Showmsg("message goes here.");
##                    }, 2000);
##                }
##                //返回数据data是json对象，{"info":"demo info","status":"y"}
##                //info: 输出提示信息;
##                //status: 返回提交数据的状态,是否提交成功。如可以用"y"表示提交成功，"n"表示提交失败，在Validform_post.html文件返回数据里自定字符，主要用在callback函数里根据该值执行相应的回调操作;
##                //你也可以在Validform_post.html文件返回更多信息在这里获取，进行相应操作；
##                //ajax遇到服务端错误时也会执行回调，这时的data是{ status:**, statusText:**, readyState:**, responseText:** }；
##
##                //这里执行回调操作;
##                //注意：如果不是ajax方式提交表单，传入callback，这时data参数是当前表单对象，回调函数会在表单验证全部通过后执行，然后判断是否提交表单，如果callback里明确return false，则表单不会提交，如果return true或没有return，则会提交表单。
##            }
##        });
##    });
##</script>