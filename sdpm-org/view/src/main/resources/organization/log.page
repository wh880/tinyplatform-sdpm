#!set(activeTitle="组织管理",activeMenuId=currentPageId)
<style>
    .tabLayout .tabBar span a {
        color: #333
    }

    .tabLayout .tabBar .Current a {
        color: #fff
    }

    .operationbar {
        border-top: none;
        background: #f9fafe;
        padding: 6px 5px 6px 10px;
    }

    #checkBoxsty .radio-box {
        margin-top: 8px;
    }

    #checkBoxsty .radio-box input {
        margin-top: 0;
        margin-left: 15px;
    }

    #checkBoxsty .radio-box label {
        font-weight: 100;
    }
</style>
#set(name="organizationLog")
#include("/common/common.page")

#@div()
    #@div(divClass="tabLayout")
        #@div(divClass="tabBar cl")
            #@tabWithInit("tab_demo" "optionsBox")
                #@tabHead()
                    #include("/organization/tab.page")
                #end
            #end


        #end

    #end

    #@div(divClass="operationbar")
    <span style="padding-top:5px;float:left">
					<a href="#" class="active_btn">日历</a>
					<a href="#">今日</a>
					<a href="#">昨日</a>
					<a href="#">本周</a>
					<a href="#">上周</a>
					<a href="#">本月</a>
					<a href="#">上月</a>
					<a href="#">所有日志</a>
        </span>

        #@tinyForm("thisform" "" "" {"class":"test"})
            #@noRespsGridSystem()
                #@gridSysCol(2)
                    #dateInputSimple("birthday" "" "YYYY-MM-DD" " style='width:100%'")
                #end
                #@gridSysCol(2)
                    #@Tselect2F()
                        #@Tselect2Body("lang" "请选择用户" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        <option value="请选择用户">请选择用户</option>
                        <option value="usera">用户A</option>
                        <option value="userb">用户B</option>
                        <option value="userc">用户c</option>
                        <option value="userd">用户d</option>
                        <option value="usere">用户e</option>

                        #end

                        #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end
                    #end
                #end
                #@gridSysCol(2)
                    #@Tselect2F()
                        #@Tselect2Body("lang" "请选择产品" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        <option value="请选择产品">请选择产品</option>
                        <option value="producta">产品A</option>
                        <option value="producta">产品A</option>
                        <option value="producta">产品A</option>
                        <option value="producta">产品A</option>
                        <option value="producta">产品A</option>

                        #end

                        #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end
                    #end

                #end
                #@gridSysCol(2)
                    #@Tselect2F()
                        #@Tselect2Body("lang" "请选择项目" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                        <option value="请选择项目">请选择项目</option>
                        <option value="projecta">项目A</option>
                        <option value="projecta">项目A</option>
                        <option value="projecta">项目A</option>
                        <option value="projecta">项目A</option>
                        <option value="projecta">项目A</option>

                        #end

                        #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a href="#">全部</a>#end
                    #end

                #end
            #end


        #end
        #div(divClass="clearfix")
    #end
##import("/org/tinygroup/table/components/togglebox.component") 宏文件所在位置
    #import("/org/tinygroup/form/components/form.component")
    #import("/org/tinygroup/bootstrapDate/components/bootstrapDate.component")
    #import("/org/tinygroup/button/components/button_common.component")
    #import("/org/tinygroup/button/components/button.component")
    #import("/org/tinygroup/form/components/form.component")
    #import("/org/tinygroup/bootstrapDate/components/bootstrapDate.component")

#!set(activeTitle="ToggleBox",activeMenuId=currentPageId)

    #@toggleBox({"class":"open"})##展开为class:OPEN 要附加其它的属性请用MAP带入
        #@toggleLeft({"class":"aclass"})
            #@settoggleLeftTitle()日志日历#end
            #@settoggleLeftBody()
                #@OlTopList()
                    #@tinyForm("thisform" "url" "post" {"class":"xxxxxxxxx"})
                        #@elementItem()
                        <span style="float:left">部门：</span>
                            #@formControlDiv("col-9")
                                #@Tselect2F()
                                    #@Tselect2Body(
                                        "lang" "departA" {"class":"input-text select2"}) ##,"multiple":"multiple"加上为多选项
                                    <option value="departA">部门A</option>
                                    <option value="departB">部门B</option>
                                    <option value="departC">部门C</option>
                                    #end

                                    #@Tselect2Fix()<a href="http://www.baidu.com" class="r ">增加</a><a
                                            href="#">全部</a>#end
                                #end
                            #end
                            #@validateDiv("col-2")#end
                        #end
                        #@elementItem()
                        <span style="float:left">日期：</span>
                            #@formHorizontal("col-9")

                                #daterangepicker("2015/03/18" "2015/03/23" "reservation" "reservation" "width:107px")
                            #end

                            #daterangepickerInit("#reservation")
                        #end

                        #@elementItem()
                        <span style="padding-bottom:10px;float:left"></span>
                            #@formHorizontal("col-9" formHorizontalId="checkBoxsty")

                                #@tinyCheckbox("checkbox2" "sw2" "sw2")&nbsp;&nbsp;显示部门所有成员#end
                            #end

                            #daterangepickerInit("#reservation")
                        #end
                        #@elementItem()
                        <span style="padding-top:10px;float:right">
                            #@formHorizontal("col-9")
                                #buttonRadiusPrimary(caption="查看")
                            #end

                        #end
                    #end

                #end
            #end
        #end
        #@toggleRight()
            #@tinyTable() ##ID为空则系统自动生成 带入参数则取该参数为ID

                #@tinyTableContent(TINY_CONTEXT_PATH+"/organization/table/logTableData.pagelet") ##取数据地址 总数据
                    #@thead()

                        #@div(divBaseClass="tinyheaderTools form-inline")
                            #setTinyTablePageSize([10,20,50,100,200,35]) ##每页数据条数设置
                            #@aModal("#myModal2" "导出" "865" "100" "" "/organization/logExport.pagelet")
                                #@simpleI(" icon-download-alt")导出#end
                            #end
                        #end
                        #@tr()  ##class 为sorting 表票可排序 为sorting_desc(正序为为sorting_asc) 为当前倒序
                            #@tinyTh({"width":"6"})<input type="checkbox" name="allck" value="">#end
                            #@tinyTh({"class":"sorting","rel":"sortname"})ID#end
                            #@tinyTh({"class":"sorting sorting_desc","rel":"sortname"})日期#end
                            #@tinyTh({"class":"","rel":"sortname"})登记人#end
                            #@tinyTh({"class":"sorting","rel":"sortname"})工作内容#end
                            #@tinyTh({"class":"sorting","rel":"sortname"})耗时#end
                            #@tinyTh({"class":"sorting","rel":"sortname"})剩余#end
                            #@tinyTh({"class":"sorting","rel":"sortname"})对象#end


                        #end
                    #end

                #end

            ##以下部分为对删除和修改的影响 因为存在不同的信息故放在外面自行更改 #dialog 配合修改使用

            #end
        #end
    #end
#end

    <script type="text/javascript">
        $(function () {
            $('#${tableId}').on('click', '.delBtn', function (e) {
                user_del(this, '1');
            });
        })
    </script>
#@dialog("myModal2")
    #@dialogHeader()对话框标题#end
    #@dialogBody()<p>对话框内容…</p>#end
    #@dialogFooter()
        #@buttonEnsure()确定#end
        #@buttonCancel()关闭#end
    #end
#end